/*Please add ; after each select statement*/
CREATE PROCEDURE correctIPs()
BEGIN
    SELECT 
        dataFormat.id,
        dataFormat.ip
    FROM (
        SELECT id, ip 
        FROM ips 
        WHERE REGEXP_LIKE(ip, '^(((1[0-9][0-9])|(2[0-4][0-9])|(2[5][0-5])|([1-9][0-9])|([0-9]))\.?){2}(\.((1[0-9][0-9])|(2[0-4][0-9])|(2[5][0-5])|([1-9][0-9])|([0-9]))){2}$')
        ORDER BY id
    ) dataFormat
    WHERE REGEXP_LIKE(ip, '^((((1[0-9][0-9])|(2[0-4][0-9])|(2[5][0-5])|([1-9][0-9])|)\.)(((1[0-9][0-9])|(2[0-4][0-9])|(2[5][0-5])|([1-9][0-9])|([0-9]))))|((((1[0-9][0-9])|(2[0-4][0-9])|(2[5][0-5])|([1-9][0-9])|([0-9]))\.)(((1[0-9][0-9])|(2[0-4][0-9])|(2[5][0-5])|([1-9][0-9]))))');
END